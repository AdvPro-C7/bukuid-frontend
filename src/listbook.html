<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>list-books</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<style>
    #card-navbar {
        font-family: 'Montserrat', sans-serif;
        border-color: #040302;
        background: #458cb3;
    }
</style>
<body>
    <nav id = "card-navbar" class="relative flex w-full flex-wrap items-center justify-between  py-2 lg:py-4 shadow">
        <div class="flex w-full flex-wrap items-center justify-between px-3">
            <div class="flex">
                <div class="flex pr-20">

                </div>
            </div>
        </div>
    </nav>

    <div class="rounded shadow-lg bg-amber-500 h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-opacity-50 hidden" id="detailsBuku">
        <div class="px-2 flex flex-col rounded-lg shadow-md w-100 m-6 overflow-hidden text-center bg-orange-100 border-4 border-yellow-900">
            <h3 class="data text-2xl pb-4 pt-3">Book Details</h3>
            <div class="text-center">
                <div class="px-20 pt-4 inline-block">
                    <img src="" alt="no image">
                </div>
            </div>
            <div class="flex flex-row pb-6">
                <div class="text-center">
                    <div class="pb-5 text-center">
                        <h2 class="data text-lg text-center">Steins Gate</h2>
                    </div>
                    <div class="pb-5 text-left">
                        <h3 class="dec font-medium text-sm px-2">Tentang mesin waktu</h3>
                    </div>
                    <div class="text-center">
                        <p class = "dec font-bold text-left mb-2 ml-2 text-sm"> Detail </p>
                        <table class="dec font-semibold text-sm text-justify ml-2">
                            <tr>
                                <td>
                                    <h3>Author:</h3>
                                </td>
                                <td>
                                    <h3 class="ml-2">XXXXX</h3>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <h3 >Published Date:</h3>
                                </td>
                                <td>
                                    <h3 class="ml-2">2010</h3>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <h3>Category:</h3>
                                </td>
                                <td>
                                    <h3 class="ml-2">Science fiction</h3>
                                </td>
                            </tr>

                        </table>
                    </div>

                </div>
            </div>
            <div class="flex flex-row justify-center w-full pb-4">
                <div class="mr-3">
                    <button class="data text-yellow-900 w-40 border-4 border-yellow-900 rounded" id="backButton">
                        Back
                    </button>
                </div>
                <div class="ml-3">
                    <button class="data text-yellow-900 w-40 border-4 border-yellow-900 rounded" id="borrowButtonSearch">
                        Buy Book
                    </button>
                </div>
            </div>
        </div>

        <script>
            async function getDetailsBookAndRender(url) {
                try {
                    const response = await fetch(url);
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    const book = await response.json();
                    console.log(book);
                    document.getElementById('detail-buku').innerHTML = ""
                    let htmlString = ""
                    book.forEach(item => {
                        htmlString += `<div class="px-2 flex flex-col rounded-lg shadow-md w-100 m-6 overflow-hidden text-center bg-orange-100 border-4 border-yellow-900">
                        <h3 class="data text-2xl pb-4 pt-3">Book Details</h3>
                        <div class="text-center">
                            <div class="px-20 pt-4 inline-block">
                                <img src="" alt="no image">
                            </div>
                        </div>
                        <div class="flex flex-row pb-6">
                            <div class="text-center">
                                <div class="pb-5 text-center">
                                    <h2 class="data text-lg text-center">Title: #${item.title}</h2>
                                </div>
                                <div class="pb-5 text-left">
                                    <h3 class="dec font-medium text-sm px-2">Description: #${item.description}</h3>
                                </div>
                                <div class="text-center">
                                    <p class = "dec font-bold text-left mb-2 ml-2 text-sm"> Detail: </p>
                                    <table class="dec font-semibold text-sm text-justify ml-2">
                                        <tr>
                                            <td>
                                                <h3>Author: #${item.author}</h3>
                                            </td>
                                            <td>
                                                <h3 class="ml-2">pages: #${item.pages}</h3>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <h3 >Published Date: #${item.publishDate}</h3>
                                            </td>
                                            <td>
                                                <h3 class="ml-2">price: #${item.price}</h3>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>
                                                <h3>Category: #${item.category}</h3>
                                            </td>
                                            <td>
                                                <h3 class="ml-2">Sold: #${item.sold}</h3>
                                            </td>
                                        </tr>

                                    </table>
                                </div>

                            </div>
                       </div>
                    <div class="flex flex-row justify-center w-full pb-4">
                        <div class="mr-3">
                            <button class="data text-yellow-900 w-40 border-4 border-yellow-900 rounded" id="backButton">
                                Back
                            </button>
                        </div>
                        <div class="ml-3">
                            <button class="data text-yellow-900 w-40 border-4 border-yellow-900 rounded" id="borrowButtonSearch">
                                Buy Book
                            </button>
                        </div>
                    </div>`
                    })

                    document.getElementById("data_books").innerHTML = htmlString
                } catch (error) {
                    console.error('Error fetching orders:', error);
                }
            }

            getDetailsBookAndRender("http://localhost:8080/api/book-details/1")

        </script>
</body>
</html>